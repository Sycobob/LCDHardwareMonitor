UVs
D3D: 0,0 is the top left. Texture memory starts at the top left.
OGL: 0,0 is the bottom left. Texture memory starts the bottom left.

Reading from the depth buffer
https://docs.microsoft.com/en-us/windows/win32/direct3d11/d3d10-graphics-programming-guide-depth-stencil#reading-the-depth-stencil-buffer-as-a-texture
Format must be typeless: descDepth.Format = DXGI_FORMAT_R24G8_TYPELESS;
Must have shader resource bind flag: D3D10_BIND_SHADER_RESOURCE
Needs a typed resource view: ID3D11Device::CreateShaderResourceView
The resource view type must match the buffer format, with the types filled in
DXGI_FORMAT_R24G8_TYPELESS => DXGI_FORMAT_D24_UNORM_S8_UINT/DXGI_FORMAT_R24_UNORM_X8_TYPELESS



565 Woes
--------
CopyResource doesn't work 32 bit -> 16 bit
IDXGIFactory1::CreateSwapChain doesn't work with a 16 bit texture
IDirect3DDevice9Ex::CreateTexture(shared) doesn't work with a 16 bit texture



Questions to Answer
-------------------
[ ] Can we get CreateSwapChain to work with a 16 bit texture?
[x] How do we convert a texture format?
		Same as post processing. Push the copy target, bind the source,
		Z and render.
[x] Can we share a 16 bit texture?
		Looks like no. Only a few formats are suported (in D3D9 -> 11 anyway..)
		https://docs.microsoft.com/en-us/windows/win32/api/d3d11/nf-d3d11-id3d11device-opensharedresource
		If a shared texture is updated on one device ID3D11DeviceContext::Flush must be called on that device.
[-] Can we get WPF to use a D3D11 texture?
		Meh, fuck it.



D3D11 DXGI_FORMAT_B5G6R5_UNORM Support
https://docs.microsoft.com/en-us/previous-versions//ff471325(v=vs.85)
https://docs.microsoft.com/en-us/windows/win32/direct3ddxgi/format-support-for-direct3d-11-0-feature-level-hardware
https://docs.microsoft.com/en-us/windows/win32/direct3ddxgi/format-support-for-direct3d-11-1-feature-level-hardware
Texture2D:        Requires DXGI 1.2 or later. DXGI 1.2 types are only supported on systems with Direct3D 11.1 or later.
Render Target:    Requires DXGI 1.2 or later. DXGI 1.2 types are only supported on systems with Direct3D 11.1 or later.
CPU Mapping:      Requires DXGI 1.2 or later. DXGI 1.2 types are only supported on systems with Direct3D 11.1 or later.
Display Scan-Out: No


DirectX 11 launched with Windows 7, back-ported to Vista. First hardware 2009. DXGI 1.1.
DirectX 11.1 launched with Windows 8 (2011). DXGI 1.2, WDDM 1.2. Mandatory 16 bit formats.
DirectX 11.2 launched with Windows 8.1 (2013). DXGI 1.3,  WDDM 1.3.
DirectX 11.3 launched with Windows 10 (2015).


//DXGI_FORMAT_B8G8R8A8_UNORM
//D3D11_FORMAT_SUPPORT_BUFFER
//D3D11_FORMAT_SUPPORT_IA_VERTEX_BUFFER
//D3D11_FORMAT_SUPPORT_TEXTURE1D
//D3D11_FORMAT_SUPPORT_TEXTURE2D
//D3D11_FORMAT_SUPPORT_TEXTURE3D
//D3D11_FORMAT_SUPPORT_TEXTURECUBE
//D3D11_FORMAT_SUPPORT_SHADER_LOAD
//D3D11_FORMAT_SUPPORT_SHADER_SAMPLE
//D3D11_FORMAT_SUPPORT_MIP
//D3D11_FORMAT_SUPPORT_MIP_AUTOGEN
//D3D11_FORMAT_SUPPORT_RENDER_TARGET
//D3D11_FORMAT_SUPPORT_BLENDABLE
//D3D11_FORMAT_SUPPORT_CPU_LOCKABLE
//D3D11_FORMAT_SUPPORT_MULTISAMPLE_RESOLVE
//D3D11_FORMAT_SUPPORT_DISPLAY
//D3D11_FORMAT_SUPPORT_CAST_WITHIN_BIT_LAYOUT
//D3D11_FORMAT_SUPPORT_MULTISAMPLE_RENDERTARGET
//D3D11_FORMAT_SUPPORT_MULTISAMPLE_LOAD
//D3D11_FORMAT_SUPPORT_SHADER_GATHER
//D3D11_FORMAT_SUPPORT_BACK_BUFFER_CAST
//D3D11_FORMAT_SUPPORT_TYPED_UNORDERED_ACCESS_VIEW
//D3D11_FORMAT_SUPPORT_VIDEO_PROCESSOR_OUTPUT
//D3D11_FORMAT_SUPPORT_VIDEO_PROCESSOR_INPUT

//DXGI_FORMAT_B5G6R5_UNORM
//D3D11_FORMAT_SUPPORT_TEXTURE1D
//D3D11_FORMAT_SUPPORT_TEXTURE2D
//D3D11_FORMAT_SUPPORT_TEXTURE3D
//D3D11_FORMAT_SUPPORT_TEXTURECUBE
//D3D11_FORMAT_SUPPORT_SHADER_LOAD
//D3D11_FORMAT_SUPPORT_SHADER_SAMPLE
//D3D11_FORMAT_SUPPORT_MIP
//D3D11_FORMAT_SUPPORT_MIP_AUTOGEN
//D3D11_FORMAT_SUPPORT_RENDER_TARGET
//D3D11_FORMAT_SUPPORT_BLENDABLE
//D3D11_FORMAT_SUPPORT_CPU_LOCKABLE
//D3D11_FORMAT_SUPPORT_MULTISAMPLE_RESOLVE
//D3D11_FORMAT_SUPPORT_MULTISAMPLE_RENDERTARGET
//D3D11_FORMAT_SUPPORT_MULTISAMPLE_LOAD
//D3D11_FORMAT_SUPPORT_SHADER_GATHER


No  - Format: DXGI_FORMAT_UNKNOWN (0)
No  - Format: DXGI_FORMAT_R32G32B32A32_TYPELESS (1)
No  - Format: DXGI_FORMAT_R32G32B32A32_FLOAT (2)
No  - Format: DXGI_FORMAT_R32G32B32A32_UINT (3)
No  - Format: DXGI_FORMAT_R32G32B32A32_SINT (4)
No  - Format: DXGI_FORMAT_R32G32B32_TYPELESS (5)
No  - Format: DXGI_FORMAT_R32G32B32_FLOAT (6)
No  - Format: DXGI_FORMAT_R32G32B32_UINT (7)
No  - Format: DXGI_FORMAT_R32G32B32_SINT (8)
No  - Format: DXGI_FORMAT_R16G16B16A16_TYPELESS (9)
Yes - Format: DXGI_FORMAT_R16G16B16A16_FLOAT (10)
No  - Format: DXGI_FORMAT_R16G16B16A16_UNORM (11)
No  - Format: DXGI_FORMAT_R16G16B16A16_UINT (12)
No  - Format: DXGI_FORMAT_R16G16B16A16_SNORM (13)
No  - Format: DXGI_FORMAT_R16G16B16A16_SINT (14)
No  - Format: DXGI_FORMAT_R32G32_TYPELESS (15)
No  - Format: DXGI_FORMAT_R32G32_FLOAT (16)
No  - Format: DXGI_FORMAT_R32G32_UINT (17)
No  - Format: DXGI_FORMAT_R32G32_SINT (18)
No  - Format: DXGI_FORMAT_R32G8X24_TYPELESS (19)
No  - Format: DXGI_FORMAT_D32_FLOAT_S8X24_UINT (20)
No  - Format: DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS (21)
No  - Format: DXGI_FORMAT_X32_TYPELESS_G8X24_UINT (22)
No  - Format: DXGI_FORMAT_R10G10B10A2_TYPELESS (23)
Yes - Format: DXGI_FORMAT_R10G10B10A2_UNORM (24)
No  - Format: DXGI_FORMAT_R10G10B10A2_UINT (25)
No  - Format: DXGI_FORMAT_R11G11B10_FLOAT (26)
No  - Format: DXGI_FORMAT_R8G8B8A8_TYPELESS (27)
Yes - Format: DXGI_FORMAT_R8G8B8A8_UNORM (28)
Yes - Format: DXGI_FORMAT_R8G8B8A8_UNORM_SRGB (29)
No  - Format: DXGI_FORMAT_R8G8B8A8_UINT (30)
No  - Format: DXGI_FORMAT_R8G8B8A8_SNORM (31)
No  - Format: DXGI_FORMAT_R8G8B8A8_SINT (32)
No  - Format: DXGI_FORMAT_R16G16_TYPELESS (33)
No  - Format: DXGI_FORMAT_R16G16_FLOAT (34)
No  - Format: DXGI_FORMAT_R16G16_UNORM (35)
No  - Format: DXGI_FORMAT_R16G16_UINT (36)
No  - Format: DXGI_FORMAT_R16G16_SNORM (37)
No  - Format: DXGI_FORMAT_R16G16_SINT (38)
No  - Format: DXGI_FORMAT_R32_TYPELESS (39)
No  - Format: DXGI_FORMAT_D32_FLOAT (40)
No  - Format: DXGI_FORMAT_R32_FLOAT (41)
No  - Format: DXGI_FORMAT_R32_UINT (42)
No  - Format: DXGI_FORMAT_R32_SINT (43)
No  - Format: DXGI_FORMAT_R24G8_TYPELESS (44)
No  - Format: DXGI_FORMAT_D24_UNORM_S8_UINT (45)
No  - Format: DXGI_FORMAT_R24_UNORM_X8_TYPELESS (46)
No  - Format: DXGI_FORMAT_X24_TYPELESS_G8_UINT (47)
No  - Format: DXGI_FORMAT_R8G8_TYPELESS (48)
No  - Format: DXGI_FORMAT_R8G8_UNORM (49)
No  - Format: DXGI_FORMAT_R8G8_UINT (50)
No  - Format: DXGI_FORMAT_R8G8_SNORM (51)
No  - Format: DXGI_FORMAT_R8G8_SINT (52)
No  - Format: DXGI_FORMAT_R16_TYPELESS (53)
No  - Format: DXGI_FORMAT_R16_FLOAT (54)
No  - Format: DXGI_FORMAT_D16_UNORM (55)
No  - Format: DXGI_FORMAT_R16_UNORM (56)
No  - Format: DXGI_FORMAT_R16_UINT (57)
No  - Format: DXGI_FORMAT_R16_SNORM (58)
No  - Format: DXGI_FORMAT_R16_SINT (59)
No  - Format: DXGI_FORMAT_R8_TYPELESS (60)
No  - Format: DXGI_FORMAT_R8_UNORM (61)
No  - Format: DXGI_FORMAT_R8_UINT (62)
No  - Format: DXGI_FORMAT_R8_SNORM (63)
No  - Format: DXGI_FORMAT_R8_SINT (64)
No  - Format: DXGI_FORMAT_A8_UNORM (65)
Dev - Format: DXGI_FORMAT_R1_UNORM (66)
No  - Format: DXGI_FORMAT_R9G9B9E5_SHAREDEXP (67)
No  - Format: DXGI_FORMAT_R8G8_B8G8_UNORM (68)
No  - Format: DXGI_FORMAT_G8R8_G8B8_UNORM (69)
No  - Format: DXGI_FORMAT_BC1_TYPELESS (70)
No  - Format: DXGI_FORMAT_BC1_UNORM (71)
No  - Format: DXGI_FORMAT_BC1_UNORM_SRGB (72)
No  - Format: DXGI_FORMAT_BC2_TYPELESS (73)
No  - Format: DXGI_FORMAT_BC2_UNORM (74)
No  - Format: DXGI_FORMAT_BC2_UNORM_SRGB (75)
No  - Format: DXGI_FORMAT_BC3_TYPELESS (76)
No  - Format: DXGI_FORMAT_BC3_UNORM (77)
No  - Format: DXGI_FORMAT_BC3_UNORM_SRGB (78)
No  - Format: DXGI_FORMAT_BC4_TYPELESS (79)
No  - Format: DXGI_FORMAT_BC4_UNORM (80)
No  - Format: DXGI_FORMAT_BC4_SNORM (81)
No  - Format: DXGI_FORMAT_BC5_TYPELESS (82)
No  - Format: DXGI_FORMAT_BC5_UNORM (83)
No  - Format: DXGI_FORMAT_BC5_SNORM (84)
No  - Format: DXGI_FORMAT_B5G6R5_UNORM (85)
No  - Format: DXGI_FORMAT_B5G5R5A1_UNORM (86)
Yes - Format: DXGI_FORMAT_B8G8R8A8_UNORM (87)
No  - Format: DXGI_FORMAT_B8G8R8X8_UNORM (88)
No  - Format: DXGI_FORMAT_B8G8R8A8_TYPELESS (90)
Yes - Format: DXGI_FORMAT_B8G8R8A8_UNORM_SRGB (91)
No  - Format: DXGI_FORMAT_B8G8R8X8_TYPELESS (92)
No  - Format: DXGI_FORMAT_B8G8R8X8_UNORM_SRGB (93)
No  - Format: DXGI_FORMAT_BC6H_TYPELESS (94)
No  - Format: DXGI_FORMAT_BC6H_UF16 (95)
No  - Format: DXGI_FORMAT_BC6H_SF16 (96)
No  - Format: DXGI_FORMAT_BC7_TYPELESS (97)
No  - Format: DXGI_FORMAT_BC7_UNORM (98)
No  - Format: DXGI_FORMAT_BC7_UNORM_SRGB (99)
No  - Format: DXGI_FORMAT_AYUV (100)
Dev - Format: DXGI_FORMAT_Y410 (101)
No  - Format: DXGI_FORMAT_Y416 (102)
Yes - Format: DXGI_FORMAT_NV12 (103)
No  - Format: DXGI_FORMAT_P010 (104)
No  - Format: DXGI_FORMAT_P016 (105)
No  - Format: DXGI_FORMAT_420_OPAQUE (106)
Yes - Format: DXGI_FORMAT_YUY2 (107)
Dev - Format: DXGI_FORMAT_Y210 (108)
No  - Format: DXGI_FORMAT_Y216 (109)
Dev - Format: DXGI_FORMAT_NV11 (110)
No  - Format: DXGI_FORMAT_AI44 (111)
No  - Format: DXGI_FORMAT_IA44 (112)
No  - Format: DXGI_FORMAT_P8 (113)
No  - Format: DXGI_FORMAT_A8P8 (114)
No  - Format: DXGI_FORMAT_B4G4R4A4_UNORM (115)
No  - Format: DXGI_FORMAT_P208 (130)
No  - Format: DXGI_FORMAT_V208 (131)
No  - Format: DXGI_FORMAT_V408 (132)


DXGI_FORMAT_R16G16B16A16_FLOAT
DXGI_FORMAT_R10G10B10A2_UNORM
DXGI_FORMAT_R8G8B8A8_UNORM
DXGI_FORMAT_R8G8B8A8_UNORM_SRGB
DXGI_FORMAT_B8G8R8A8_UNORM
DXGI_FORMAT_B8G8R8A8_UNORM_SRGB
DXGI_FORMAT_NV12
DXGI_FORMAT_YUY2
